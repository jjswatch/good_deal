<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ä½¿ç”¨è€…ç®¡ç† - Admin</title>
<link rel="stylesheet" href="../css/admin-style.css"> 
<style>
.data-table { width: 100%; border-collapse: collapse; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
.data-table th, .data-table td { padding: 15px; text-align: left; border-bottom: 1px solid #f1f5f9; }
.data-table th { background: #f8fafc; color: var(--text-sub); font-weight: 600; }
.btn { padding: 8px 16px; border-radius: 6px; cursor: pointer; border: none; font-size: 14px; }
.btn-edit { background: #e0f2fe; color: #0369a1; margin-right: 5px; }
.btn-delete { background: #fee2e2; color: #b91c1c; }
/* Modal ç°¡æ˜“æ¨£å¼ */
.modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 4000; align-items: center; justify-content: center; }
.modal.active { display: flex; }
.modal-content { background: white; padding: 30px; border-radius: 16px; width: 400px; }
.form-group { margin-bottom: 15px; }
.form-group label { display: block; margin-bottom: 5px; color: var(--text-sub); }
.form-group input { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; }
.role-badge {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: bold;
}
.role-badge.ADMIN {
    background: #fef3c7;
    color: #92400e; /* æ©˜é‡‘è‰² */
}
.role-badge.USER {
    background: #f1f5f9;
    color: #475569; /* ç°è‰² */
}
</style>
</head>
<body>
<div class="admin-layout">
    <main class="admin-content">
        <header style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
            <div>
                <h2 style="font-size: 24px; margin:0;">ğŸ‘¤ ä½¿ç”¨è€…ç®¡ç†</h2>
                <p style="color: #64748b; margin: 8px 0 0;">ç®¡ç†ç³»çµ±æœƒå“¡å¸³è™Ÿèˆ‡æ¬Šé™</p>
            </div>
        </header>

        <table class="data-table">
            <thead>
    			<tr>
        			<th>ID</th>
        			<th>ä½¿ç”¨è€…åç¨±</th>
        			<th>é›»å­éƒµä»¶</th>
        			<th>æ¬Šé™</th> 
        			<th>æ“ä½œ</th>
    			</tr>
			</thead>
            <tbody id="userTableBody"></tbody>
        </table>
    </main>
</div>

<div class="modal" id="userModal">
    <div class="modal-content">
        <h3 id="modalTitle">ç·¨è¼¯ä½¿ç”¨è€…</h3>
        <input type="hidden" id="editUserId">
        <div class="form-group">
            <label>ä½¿ç”¨è€…åç¨±</label>
            <input type="text" id="editUsername">
        </div>
        <div class="form-group">
            <label>é›»å­éƒµä»¶</label>
            <input type="email" id="editEmail">
        </div>
        <div class="form-group">
            <label>æ–°å¯†ç¢¼ (ä¸ä¿®æ”¹è«‹ç•™ç©º)</label>
            <input type="password" id="editPassword" placeholder="******">
        </div>
        <div class="form-group">
    		<label>æ¬Šé™è§’è‰²</label>
    		<select id="editRole" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
        		<option value="USER">ä¸€èˆ¬ä½¿ç”¨è€… (USER)</option>
        		<option value="ADMIN">ç®¡ç†å“¡ (ADMIN)</option>
    		</select>
		</div>
		<div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
			<button class="btn" onclick="closeModal()">å–æ¶ˆ</button>
			<button class="btn" style="background: var(--primary); color: white;" onclick="saveUser()">å„²å­˜è®Šæ›´</button>
		</div>
    </div>
</div>

<script src="../js/auth.js"></script>
<script src="../js/api.js"></script>
<script src="../js/admin-common.js"></script>
<script src="../js/admin-users.js"></script>
</body>
</html>